<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adit Hub ‚Äì Cyber Terminal Quest</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap">
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root {
  --bg-dark: #0a0a0a;
  --cyan: #00ffc2;
  --blue: #4d7eff;
  --pink: #ff0054;
  --text-main: #e0e0e0;
  --text-sub: #a0a0a0;
}
body {
  background: var(--bg-dark);
  color: var(--text-main);
  font-family: 'Roboto Mono', monospace;
  margin: 0;
  overflow: hidden;
}
.crt::after {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: repeating-linear-gradient(
    0deg,
    rgba(255,255,255,0.02) 0,
    rgba(255,255,255,0.02) 1px,
    transparent 2px
  );
  pointer-events: none;
  z-index: 10;
}
.neon-text {
  text-shadow: 0 0 5px var(--cyan), 0 0 10px var(--cyan), 0 0 20px var(--cyan);
}
#game-board {
  border: 2px solid var(--cyan);
  box-shadow: 0 0 15px var(--cyan);
  background: black;
  image-rendering: pixelated;
}
#link-panel {
  background: rgba(0,0,0,0.7);
  border: 2px solid var(--blue);
  border-radius: 10px;
  padding: 1rem;
}
#terminal-log {
  font-size: 0.85rem;
  color: var(--text-sub);
  background: rgba(0,0,0,0.5);
  padding: 0.5rem;
  height: 120px;
  overflow-y: auto;
  border: 1px solid var(--cyan);
}
.link-locked {
  opacity: 0.4;
  pointer-events: none;
}
.link-unlocked {
  opacity: 1;
  pointer-events: auto;
  animation: glow 1s infinite alternate;
}
@keyframes glow {
  from { box-shadow: 0 0 5px var(--cyan); }
  to { box-shadow: 0 0 15px var(--cyan); }
}
canvas#matrix-bg {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: 0;
}
.modal {
  background: #111;
  border: 2px solid var(--cyan);
  box-shadow: 0 0 20px var(--cyan);
  z-index: 20;
}
#audio-btn {
  position: fixed;
  top: 10px;
  right: 10px;
  background: rgba(0,0,0,0.6);
  border: 2px solid var(--cyan);
  padding: 5px 10px;
  border-radius: 5px;
  color: var(--cyan);
  font-size: 18px;
  cursor: pointer;
  z-index: 50;
}
</style>
</head>
<body class="crt">

<!-- MATRIX BACKGROUND -->
<canvas id="matrix-bg"></canvas>

<!-- AUDIO TOGGLE -->
<button id="audio-btn">üîä</button>

<!-- INTRO MODAL -->
<div id="intro-modal" class="fixed inset-0 flex items-center justify-center z-50">
  <div class="modal p-6 rounded-lg text-center max-w-md w-full">
    <h1 class="text-3xl font-bold neon-text mb-4">ADIT HUB</h1>
    <p class="mb-4">[ Cyber Terminal Quest ]</p>
    <p class="mb-4">Akses ditolak. Hancurkan baris kode untuk membuka data modul.</p>
    <button id="start-game-btn" class="px-4 py-2 bg-cyan-500 text-black font-bold rounded">Mulai Misi</button>
  </div>
</div>

<!-- MAIN CONTENT -->
<div class="flex flex-col items-center p-4 gap-4 relative z-10">
  <h1 class="text-4xl font-bold neon-text">ADIT HUB</h1>
  <p class="text-blue-400">[ Terminal Interaktif ]</p>

  <div class="flex flex-col md:flex-row gap-6 w-full max-w-5xl justify-center items-start">
    <!-- Link Panel -->
    <div id="link-panel" class="flex flex-col gap-2 w-60">
      <h2 class="text-xl text-blue-400 text-center">Data Modules</h2>
      <a href="#" id="link-1" class="link-locked px-2 py-1 bg-gray-800 rounded">Portofolio</a>
      <a href="#" id="link-2" class="link-locked px-2 py-1 bg-gray-800 rounded">LinkedIn</a>
      <a href="#" id="link-3" class="link-locked px-2 py-1 bg-gray-800 rounded">Email</a>
      <a href="#" id="link-4" class="link-locked px-2 py-1 bg-gray-800 rounded">GitHub</a>
      <a href="#" id="link-5" class="link-locked px-2 py-1 bg-gray-800 rounded">Blog</a>
      <a href="#" id="link-6" class="link-locked px-2 py-1 bg-gray-800 rounded">Twitter</a>
      <a href="#" id="link-7" class="link-locked px-2 py-1 bg-gray-800 rounded">Instagram</a>
    </div>

    <!-- Game & Terminal Log -->
    <div class="flex flex-col items-center gap-4">
      <canvas id="game-board" width="240" height="480"></canvas>
      <div class="flex flex-col items-center">
        <p>Skor: <span id="score" class="text-cyan-400">0</span></p>
        <div id="terminal-log" class="mt-2"></div>
      </div>
    </div>
  </div>
</div>

<script>
/* === AUDIO === */
const sounds = {
  click: new Audio("data:audio/mp3;base64,..."), // isi base64 klik
  unlock: new Audio("data:audio/mp3;base64,..."), // isi base64 unlock
  gameover: new Audio("data:audio/mp3;base64,..."), // isi base64 game over
  type: new Audio("data:audio/mp3;base64,..."), // isi base64 ketik
  music: new Audio("data:audio/mp3;base64,...") // isi base64 musik cyberpunk
};
Object.values(sounds).forEach(s => { s.volume = 0.5; });
sounds.music.loop = true;

let audioEnabled = true;

function playSound(name) {
  if (audioEnabled && sounds[name]) {
    sounds[name].currentTime = 0;
    sounds[name].play();
  }
}

document.getElementById('audio-btn').addEventListener('click', () => {
  audioEnabled = !audioEnabled;
  document.getElementById('audio-btn').textContent = audioEnabled ? "üîä" : "üîá";
  if (!audioEnabled) {
    Object.values(sounds).forEach(s => s.pause());
  } else {
    sounds.music.play();
  }
});

/* === TYPE EFFECT === */
function typeLog(text) {
  let i = 0;
  const logElem = document.getElementById("terminal-log");
  const interval = setInterval(() => {
    logElem.innerHTML += text.charAt(i);
    playSound('type');
    i++;
    if (i >= text.length) {
      logElem.innerHTML += "<br>";
      logElem.scrollTop = logElem.scrollHeight;
      clearInterval(interval);
    }
  }, 30);
}

/* === MATRIX RAIN === */
const matrixCanvas = document.getElementById("matrix-bg");
const matrixCtx = matrixCanvas.getContext("2d");
matrixCanvas.width = window.innerWidth;
matrixCanvas.height = window.innerHeight;
const letters = "„Ç¢„Ç°„Ç§„Ç£„Ç¶„É¥„Ç®„Çß„Ç™„Ç´„Ç¨„Ç≠„ÇÆ„ÇØ„Ç∞„Ç±„Ç≤„Ç≥„Ç¥„Çµ„Ç∂„Ç∑„Ç∏„Çπ„Ç∫„Çª„Çº„ÇΩ„Çæ„Çø„ÉÄ„ÉÅ„ÉÇ„ÉÉ„ÉÖ„ÉÜ„Éá„Éà„Éâ„Éä„Éã„Éå„Éç„Éé„Éè„Éê„Éë„Éí„Éì„Éî„Éï„Éñ„Éó„Éò„Éô„Éö„Éõ„Éú„Éù„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É∞„É±„É≤„É≥ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
const matrix = letters.split("");
const fontSize = 14;
const columns = matrixCanvas.width / fontSize;
const drops = Array(Math.floor(columns)).fill(1);

function drawMatrix() {
  matrixCtx.fillStyle = "rgba(0,0,0,0.05)";
  matrixCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
  matrixCtx.fillStyle = "#0F0";
  matrixCtx.font = fontSize + "px monospace";
  for(let i=0;i<drops.length;i++){
    const text = matrix[Math.floor(Math.random()*matrix.length)];
    matrixCtx.fillText(text, i*fontSize, drops[i]*fontSize);
    if(drops[i]*fontSize > matrixCanvas.height && Math.random()>0.975) drops[i]=0;
    drops[i]++;
  }
}
setInterval(drawMatrix, 35);
window.addEventListener("resize",()=>{
  matrixCanvas.width = window.innerWidth;
  matrixCanvas.height = window.innerHeight;
});

/* === TETRIS GAME === */
const canvas = document.getElementById('game-board');
const ctx = canvas.getContext('2d');
const scoreElem = document.getElementById('score');
const grid = 24;
const tetrominoes = [
  [[1,1,1,1]],
  [[1,1],[1,1]],
  [[0,1,0],[1,1,1]],
  [[1,0,0],[1,1,1]],
  [[0,0,1],[1,1,1]],
  [[1,1,0],[0,1,1]],
  [[0,1,1],[1,1,0]]
];
let board = Array.from({length:20},()=>Array(10).fill(0));
let piece = {shape:[],x:0,y:0};
let score = 0;
let dropCounter = 0;
let dropInterval = 500;
let lastTime = 0;
let gameOver = false;
let unlockedLinks = 0;

function randomPiece(){
  const shape = tetrominoes[Math.floor(Math.random()*tetrominoes.length)];
  piece.shape = shape;
  piece.x = Math.floor(board[0].length/2) - Math.ceil(shape[0].length/2);
  piece.y = 0;
  if(collide(board,piece)) { gameOver = true; playSound('gameover'); typeLog("[!] Misi gagal - Sistem terkunci."); }
}
function collide(board,piece){
  for(let y=0;y<piece.shape.length;y++){
    for(let x=0;x<piece.shape[y].length;x++){
      if(piece.shape[y][x] && 
         (board[y+piece.y] && board[y+piece.y][x+piece.x]) !== 0){
        return true;
      }
    }
  }
  return false;
}
function merge(board,piece){
  piece.shape.forEach((row,dy)=>{
    row.forEach((value,dx)=>{
      if(value){
        board[dy+piece.y][dx+piece.x] = value;
      }
    });
  });
}
function drawMatrixBlock(matrix, offset){
  matrix.forEach((row,y)=>{
    row.forEach((value,x)=>{
      if(value){
        ctx.fillStyle = 'cyan';
        ctx.fillRect((x+offset.x)*grid, (y+offset.y)*grid, grid-1, grid-1);
      }
    });
  });
}
function drawBoard(){
  ctx.fillStyle = '#000';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  drawMatrixBlock(board,{x:0,y:0});
  drawMatrixBlock(piece.shape,{x:piece.x,y:piece.y});
}
function drop(){
  piece.y++;
  if(collide(board,piece)){
    piece.y--;
    merge(board,piece);
    lineClear();
    randomPiece();
  }
  dropCounter = 0;
}
function lineClear(){
  let rowCount = 0;
  outer: for(let y=board.length-1;y>=0;y--){
    if(board[y].every(val => val !== 0)){
      board.splice(y,1);
      board.unshift(Array(10).fill(0));
      rowCount++;
    }
  }
  if(rowCount > 0){
    score += rowCount * 10;
    scoreElem.textContent = score;
    unlockLink(rowCount);
  }
}
function unlockLink(count){
  for(let i=0;i<count;i++){
    if(unlockedLinks < 7){
      unlockedLinks++;
      const link = document.getElementById(`link-${unlockedLinks}`);
      link.classList.remove('link-locked');
      link.classList.add('link-unlocked');
      playSound('unlock');
      typeLog(`Module ${unlockedLinks} unlocked ‚úÖ`);
    }
  }
}
function update(time=0){
  const delta = time - lastTime;
  lastTime = time;
  dropCounter += delta;
  if(dropCounter > dropInterval) drop();
  drawBoard();
  if(!gameOver) requestAnimationFrame(update);
}
document.addEventListener('keydown', e=>{
  playSound('click');
  if(e.keyCode===37){ piece.x--; if(collide(board,piece)) piece.x++; }
  else if(e.keyCode===39){ piece.x++; if(collide(board,piece)) piece.x--; }
  else if(e.keyCode===40){ drop(); }
  else if(e.keyCode===38){
    const rotated = piece.shape[0].map((_,i)=>piece.shape.map(row=>row[i]).reverse());
    const prev = piece.shape;
    piece.shape = rotated;
    if(collide(board,piece)) piece.shape = prev;
  }
});

/* === START GAME BUTTON === */
document.getElementById('start-game-btn').addEventListener('click', () => {
  playSound('click');
  document.getElementById('intro-modal').style.display = 'none';
  typeLog("[*] Misi dimulai - Hancurkan baris untuk membuka modul...");
  sounds.music.volume = 0;
  sounds.music.play();
  let fade = setInterval(() => {
    if (sounds.music.volume < 0.5) {
      sounds.music.volume += 0.05;
    } else {
      clearInterval(fade);
    }
  }, 200);
  randomPiece();
  update();
});
</script>
</body>
</html>
